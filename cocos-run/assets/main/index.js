System.register("chunks:///_virtual/AutoDestory.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,i,s,n,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,a=t.CCFloat,c=t.Component}],execute:function(){var u,l,p,y,d;s._RF.push({},"30e6ans+w9BR531aZJP3Yb6","AutoDestory",void 0);var f=n.ccclass,h=n.property;t("AutoDestory",(u=f("AutoDestory"),l=h({type:a}),u((d=e((y=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,o(e,"destroyTime",d,i(e)),e._curPassedTime=0,e}r(e,t);var s=e.prototype;return s.start=function(){},s.update=function(t){this._curPassedTime+=t,this._curPassedTime>this.destroyTime&&this.node.destroy()},e}(c)).prototype,"destroyTime",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=y))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,i,n,e,l,r;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,e=t.ColliderComponent,l=t.RigidBodyComponent,r=t.Component}],execute:function(){var s;i._RF.push({},"79e967ngr5Nj7u6HpRpNKi8","Bullet",void 0);var u=n.ccclass;n.property,t("Bullet",u("Bullet")(s=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this)._collider=null,o._rigidBody=null,o._flyTime=0,o._autoDestoryTime=5,o}o(i,t);var n=i.prototype;return n.onLoad=function(){this._collider=this.node.getComponent(e),this._rigidBody=this.node.getComponent(l),this._collider.on("onCollisionEnter",this.onCollisionEnter,this)},n.init=function(t){this._rigidBody.setLinearVelocity(t)},n.onCollisionEnter=function(t){},n.update=function(t){this._flyTime+=t,this._flyTime>=this._autoDestoryTime&&this.node.destroy()},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/CameraFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,r,i,n,a,l,s,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Vec3,s=e.Node,u=e.CCFloat,c=e.Component}],execute:function(){var p,f,d,h,y,w,b,m,g,F,v;n._RF.push({},"96d85FGykZO9YXS5l7wnOnM","CameraFollow",void 0);var C=a.ccclass,k=a.property,z=new l,A=new l;e("CameraFollow",(p=C("CameraFollow"),f=k({type:s}),d=k({type:u}),h=k(l),y=k(l),p((m=t((b=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"target",m,i(t)),r(t,"smoothSpeed",g,i(t)),r(t,"offset",F,i(t)),r(t,"lookAtOffset",v,i(t)),t}o(t,e);var n=t.prototype;return n.start=function(){},n.lateUpdate=function(e){this.target.getWorldPosition(z),l.add(A,z,this.offset),l.lerp(A,this.node.position,A,this.smoothSpeed),this.node.setWorldPosition(A),l.add(z,z,this.lookAtOffset),this.node.lookAt(z)},t}(c)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(b.prototype,"smoothSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.125}}),F=t(b.prototype,"offset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),v=t(b.prototype,"lookAtOffset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),w=b))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/ColliderChecker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerController.ts"],(function(r){"use strict";var e,t,n,o,i,l,c,a,s;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,n=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){i=r.cclegacy,l=r._decorator,c=r.ColliderComponent,a=r.Component},function(r){s=r.PlayerController}],execute:function(){var p,u,C,h,y;i._RF.push({},"52f35UsdDxNBpUJqQtFZwJY","ColliderChecker",void 0);var f=l.ccclass,g=l.property;r("ColliderChecker",(p=f("ColliderChecker"),u=g({type:s}),p((y=e((h=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return e=r.call.apply(r,[this].concat(i))||this,n(e,"playerCtrl",y,o(e)),e}t(e,r);var i=e.prototype;return i.start=function(){this.getComponent(c).on("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(r){this.playerCtrl&&this.playerCtrl.onTriggerEnter(r)},e}(a)).prototype,"playerCtrl",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=h))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefines.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("GameState",void 0),t._RF.push({},"1c463EiXuNDjI7atKa8Vmdn","GameDefines",void 0);var i,n=e("GameDefines",(function(){}));n.floorLength=10,n.maxActiveFloor=50,n.leftLineX=5,n.middleLineX=0,n.rightLineX=-5,n.CoinNodeName="Coin",n.BlockNodeName="RoadBlock",function(e){e[e.INIT=0]="INIT",e[e.PLAYING=1]="PLAYING",e[e.END=2]="END"}(i||(i=e("GameState",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefines2.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var n;e("ActionType",void 0),t._RF.push({},"2e8a98x4a5IJagoJYKD9cKE","GameDefines",void 0),function(e){e[e.Forward=0]="Forward",e[e.Backward=1]="Backward",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Shoot=4]="Shoot",e[e.ThrowGrenade=5]="ThrowGrenade"}(n||(n=e("ActionType",{})));e("GameDefines",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerController.ts","./GameDefines.ts"],(function(t){"use strict";var e,i,o,n,r,a,l,c,s,u,h,f,p,g,d,P,m,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.Vec3,s=t.Prefab,u=t.LabelComponent,h=t.Node,f=t.NodePool,p=t.math,g=t.instantiate,d=t.AnimationComponent,P=t.Component},function(t){m=t.PlayerController},function(t){b=t.GameState,v=t.GameDefines}],execute:function(){var y,_,k,F,C,N,S,T,z,B,L,w,I,G,R,D,X,A,E;a._RF.push({},"800deRz60lAFYhFVmHQLbX0","GameManager",void 0);var M=l.ccclass,Y=l.property,x=new c;t("GameManager",(y=M("GameManager"),_=Y({type:s}),k=Y({type:s}),F=Y({type:s}),C=Y({type:m}),N=Y({type:u}),S=Y({type:h}),T=Y({type:h}),z=Y({type:h}),y((w=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"straitFloorPrfb",w,n(e)),o(e,"coinPrfb",I,n(e)),o(e,"roadBlockPrfb",G,n(e)),o(e,"playerCtrl",R,n(e)),o(e,"coinScoreLabel",D,n(e)),o(e,"initPanel",X,n(e)),o(e,"playingPanel",A,n(e)),o(e,"endPanel",E,n(e)),e._coinPool=new f,e._coinNum=0,e._straitFloorPool=new f,e._roadBlockPool=new f,e._checkPassedTime=0,e._checkInterval=1,e._activeFloors=[],e._curState=b.INIT,e}i(e,t);var a=e.prototype;return a.start=function(){this.curState=b.INIT,this.playerCtrl.onTriggerCoin=this.onCoinTriggered.bind(this),this.playerCtrl.onTriggerBlock=this.onBlockTriggered.bind(this)},a.reset=function(){var t=this;this._activeFloors.forEach((function(e){t.destroyFloor(e)})),this._activeFloors=[];for(var e=0;e<v.maxActiveFloor;e++){var i=e*v.floorLength,o=!1;e>1&&(o=!0),this.generateFloor(x.set(0,0,i),o)}},a.destroyFloor=function(t){for(var e=0;e<t.children.length;e++){var i=t.children[e];i.name===v.CoinNodeName?(i.parent=null,this._coinPool.put(i)):i.name===v.BlockNodeName&&(i.parent=null,this._roadBlockPool.put(i))}this._straitFloorPool.put(t)},a.generateFloor=function(t,e){void 0===e&&(e=!1);var i=this.createStraitFloor(t);if(this._activeFloors.push(i),e){var o=p.randomRangeInt(0,3);1===o?this.createCoin(i,x.set(this.randomXPos(),1,0)):2===o&&this.createRoadBlock(i,x.set(this.randomXPos(),0,0))}},a.randomXPos=function(){return[v.leftLineX,v.middleLineX,v.rightLineX][p.randomRangeInt(0,3)]},a.createStraitFloor=function(t){var e=null;return(e=this._straitFloorPool.size()>0?this._straitFloorPool.get():g(this.straitFloorPrfb)).setPosition(t),e.parent=this.node,e},a.createCoin=function(t,e){var i=null;return(i=this._coinPool.size()>0?this._coinPool.get():g(this.coinPrfb)).setPosition(e),i.parent=t,i},a.createRoadBlock=function(t,e){var i=null;(i=this._roadBlockPool.size()>0?this._roadBlockPool.get():g(this.roadBlockPrfb)).setPosition(e),i.parent=t;var o=i.getComponent(d).getState("block_down");return o.setTime(0),o.sample(),i},a.onCoinTriggered=function(t){this._coinNum++,this.coinScoreLabel.string=""+this._coinNum,this._coinPool.put(t)},a.onBlockTriggered=function(t){this.curState=b.END},a.checkToGenerateElem=function(t){if(this._checkPassedTime+=t,this._checkPassedTime>this._checkInterval){for(var e=0,i=0;i<this._activeFloors.length;i++){if(this._activeFloors[i].position.z>this.playerCtrl.node.position.z-v.floorLength){e=i;break}}if(e>0)for(var o=0;o<e;o++){var n=this._activeFloors.shift();this.destroyFloor(n);var r=this._activeFloors[this._activeFloors.length-1].position.z+v.floorLength;this.generateFloor(x.set(0,0,r),!0)}this._checkPassedTime=0}},a.update=function(t){this.checkToGenerateElem(t)},a.onStartButtonClicked=function(){this.curState=b.PLAYING},a.onRestartButtonClicked=function(){this.curState=b.INIT},r(e,[{key:"coinNum",get:function(){return this._coinNum},set:function(t){this._coinNum=t,this.coinScoreLabel.string=""+t}},{key:"curState",get:function(){return this._curState},set:function(t){switch(t){case b.INIT:this.initPanel.active=!0,this.playingPanel.active=!1,this.endPanel.active=!1,this.reset();break;case b.PLAYING:this.initPanel.active=!1,this.playingPanel.active=!0,this.coinNum=0;break;case b.END:this.playingPanel.active=!1,this.endPanel.active=!0}this._curState=t,this.playerCtrl.onGameStateChanged(t)}}]),e}(P)).prototype,"straitFloorPrfb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(L.prototype,"coinPrfb",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(L.prototype,"roadBlockPrfb",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(L.prototype,"playerCtrl",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"coinScoreLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(L.prototype,"initPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"playingPanel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(L.prototype,"endPanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/Grenade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(o){"use strict";var i,e,n,t,r,l,s,a,c,d,p,u,f,h;return{setters:[function(o){i=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,s=o.Prefab,a=o.ColliderComponent,c=o.RigidBodyComponent,d=o.Vec3,p=o.director,u=o.instantiate,f=o.Component},function(o){h=o.Utils}],execute:function(){var y,_,m,g,v;r._RF.push({},"82dbe/89OJMi52m6sffuj1z","Grenade",void 0);var x=l.ccclass,C=l.property;o("Grenade",(y=x("Grenade"),_=C({type:s}),y((v=i((g=function(o){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=o.call.apply(o,[this].concat(r))||this,n(i,"explosionPrfb",v,t(i)),i._collider=null,i._rigidBody=null,i._flyTime=0,i._autoDestoryTime=3,i._explosionForce=100,i._explosionRadius=10,i}e(i,o);var r=i.prototype;return r.onLoad=function(){this._collider=this.node.getComponent(a),this._rigidBody=this.node.getComponent(c),this._collider.on("onCollisionEnter",this.onCollisionEnter,this)},r.init=function(o){this._rigidBody.applyImpulse(o,new d(0,-1,0))},r.onCollisionEnter=function(o){this.explosion()},r.explosion=function(){var o=this;this.node.destroy();var i=p.getScene(),e=u(this.explosionPrfb);i.addChild(e),e.setWorldPosition(this.node.getWorldPosition()),i.children.forEach((function(i){h.walkNode(i,(function(i){var e=i.getComponent(c);if(e){var n=new d;d.subtract(n,i.getWorldPosition(),o.node.getWorldPosition());var t=n.length();t<o._explosionRadius&&(n.normalize(),d.multiplyScalar(n,n,o._explosionForce/t),e.applyImpulse(n))}}))}))},r.update=function(o){this._flyTime+=o,this._flyTime>=this._autoDestoryTime&&this.explosion()},i}(f)).prototype,"explosionPrfb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/InputControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShootingPlayerController.ts","./GameDefines2.ts"],(function(t){"use strict";var r,e,o,n,a,i,c,l,s,u;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,c=t.Node,l=t.Component},function(t){s=t.ShootingPlayerController},function(t){u=t.ActionType}],execute:function(){var p,h,d,y,f,C,b;a._RF.push({},"5bf17fQN9lOwI0hmD3n6l8i","InputControl",void 0);var w=i.ccclass,T=i.property;t("InputControl",(p=w("InputControl"),h=T({type:[c]}),d=T({type:s}),p((C=r((f=function(t){function r(){for(var r,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return r=t.call.apply(t,[this].concat(a))||this,o(r,"actionButtons",C,n(r)),o(r,"playerCtrl",b,n(r)),r}e(r,t);var a=r.prototype;return a.onLoad=function(){var t=this;this.actionButtons.forEach((function(r){r.on(c.EventType.TOUCH_START,t.onTouchStart,t),r.on(c.EventType.TOUCH_END,t.onTouchEnd,t)}))},a.onTouchStart=function(t){var r=t.currentTarget;if(r)switch(r.name){case"Forward":this.playerCtrl.doAction(u.Forward,!0);break;case"Backward":this.playerCtrl.doAction(u.Backward,!0);break;case"Left":this.playerCtrl.doAction(u.Left,!0);break;case"Right":this.playerCtrl.doAction(u.Right,!0);break;case"Shoot":this.playerCtrl.doAction(u.Shoot,!0);break;case"ThrowGrenade":this.playerCtrl.doAction(u.ThrowGrenade,!0)}},a.onTouchEnd=function(t){var r=t.currentTarget;if(r)switch(r.name){case"Forward":this.playerCtrl.doAction(u.Forward,!1);break;case"Backward":this.playerCtrl.doAction(u.Backward,!1);break;case"Left":this.playerCtrl.doAction(u.Left,!1);break;case"Right":this.playerCtrl.doAction(u.Right,!1)}},r}(l)).prototype,"actionButtons",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=r(f.prototype,"playerCtrl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,i,r,s,a,c,l,u,h,v,f,d,p,y,_,g,m,C,b,L,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.geometry,c=e.Quat,l=e.Prefab,u=e.CameraComponent,h=e.find,v=e.systemEvent,f=e.SystemEvent,d=e.loader,p=e.JsonAsset,y=e.Vec3,_=e.tween,g=e.PhysicsSystem,m=e.director,C=e.Component,b=e.instantiate,L=e.ModelComponent,x=e.Texture2D}],execute:function(){var I,P,T,M,w,E,U;r._RF.push({},"f8f65nzsiBIqqzZ74MY4hPw","LobbyManager",void 0);var D=s.ccclass,R=s.property,z=a.Ray;new c,e("Lobby",(I=D("Lobby"),P=R({type:l}),T=R({type:u}),I((E=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"coverPrfb",E,i(t)),o(t,"mainCamera",U,i(t)),t.coverWidth=1,t._coverList=[],t._coverData=[],t._curIndex=0,t._isLoading=!1,t}n(t,e);var r=t.prototype;return r.start=function(){h("PersistCanvas").active=!1,this.loadCovers(),v.on(f.EventType.MOUSE_UP,this.onMouseUp,this),v.on(f.EventType.TOUCH_END,this.onTouchEnd,this)},r.loadCovers=function(){var e=this;d.loadRes("games.json",p,(function(t,n){Array.isArray(n.json)&&e.generateCovers(n.json)}))},r.generateCovers=function(e){var t=this;this._coverData=e;for(var n=Math.max(e.length,5),o=function(n){var o=b(t.coverPrfb);if(o.name=""+n,o.parent=t.node,n<e.length){var i=e[n],r=o.getComponent(L).material;d.loadRes(i.coverImgUrl,x,(function(o,i){o?console.error(o):(r.setProperty("mainTexture",i),n===e.length-1&&t.tweenToIndex(t._curIndex,!0))}))}t._coverList.push(o)},i=0;i<n;i++)o(i)},r.tweenToIndex=function(e,t){if(void 0===t&&(t=!1),!(e<0||e>=this._coverList.length)){this._curIndex=e;for(var n=0;n<this._coverList.length;n++){var o=this._coverList[n],i=new y,r=new c;if(n!==this._curIndex){var s=(n-this._curIndex)*this.coverWidth,a=1-.1*(Math.abs(s)+2);a<.1&&(a=.1);var l=s*a,u=-60*Math.sign(s);i.set(l,0,0),c.fromAxisAngle(r,y.UNIT_Y,u/180*Math.PI)}t?(o.setWorldPosition(i),o.setWorldRotation(r)):_(o).to(.5,{position:i,rotation:r},{onComplete:function(){}}).start()}}},r.moveRight=function(){this._curIndex+1<this._coverList.length&&this.tweenToIndex(this._curIndex+1)},r.moveLeft=function(){this._curIndex-1>=0&&this.tweenToIndex(this._curIndex-1)},r.onClickPos=function(e){var t=new z;if(this.mainCamera.screenPointToRay(e.x,e.y,t),g.instance.raycastClosest(t),g.instance.raycastClosestResult.collider&&g.instance.raycastClosestResult.collider.node){var n=g.instance.raycastClosestResult.collider.node,o=Number.parseInt(n.name);if(o<this._coverData.length){if(this._isLoading)return;this._isLoading=!0;var i=this._coverData[o].sceneUrl;if(m.loadScene(i))h("PersistCanvas").active=!0,this._isLoading=!1;else this._isLoading=!1}}},r.onMouseUp=function(e){this.onClickPos(e.getLocation())},r.onTouchEnd=function(e,t){this.onClickPos(t.getLocation())},r.onDestroy=function(){v.off(f.EventType.MOUSE_UP,this.onMouseUp,this),v.off(f.EventType.TOUCH_END,this.onTouchEnd,this)},t}(C)).prototype,"coverPrfb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(w.prototype,"mainCamera",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LobbyManager.ts","./TopBar.ts","./migrate-canvas.ts","./CameraFollow.ts","./ColliderChecker.ts","./GameDefines.ts","./GameManager.ts","./PlayerController.ts","./AutoDestory.ts","./Bullet.ts","./GameDefines2.ts","./Grenade.ts","./InputControl.ts","./PhysicsConfig.ts","./ShootingGameManager.ts","./ShootingPlayerController.ts","./Utils.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/migrate-canvas.ts",["cc"],(function(){"use strict";var e,n,t,i,r,o,a;return{setters:[function(c){e=c.cclegacy,n=c.director,t=c.Director,i=c.Canvas,r=c.Camera,o=c.game,a=c.Node}],execute:function(){e._RF.push({},"4257eb5fBhAJ4saolIa16SH","migrate-canvas",void 0);var c=1048575;function l(e,n){for(var t=0,i=e.children.length;t<i;t++)e.children[t].layer=n,l(e.children[t],n)}n.on(t.EVENT_AFTER_SCENE_LAUNCH,(function(){var e,t,a,s=null==(e=n.getScene())?void 0:e.children,m=null==(t=n.getScene())?void 0:t.getComponentsInChildren(i);if(!(m.length<=1)){m=m.filter((function(e){return!!e.cameraComponent}));var v=null==(a=n.getScene())?void 0:a.getComponentsInChildren(r),u=0;v.forEach((function(e){return u|=e.visibility&c}));for(var p=[],f=0,h=s.length;f<h;f++){var C=s[f];if(o.isPersistRootNode(C)){var d=C.getComponentsInChildren(i);0!==d.length&&p.push.apply(p,d.filter((function(e){return!!e.cameraComponent})))}}p.forEach((function(e){if(m.find((function(n){return n!==e&&n.cameraComponent.visibility&e.cameraComponent.visibility&c}))){var n=~u,t=n&~(n-1);e.cameraComponent.visibility=t|4293918720&e.cameraComponent.visibility,l(e.node,t),u|=n}}))}}));var s=a.prototype.setParent;function m(e){var n=0,t=e.getComponent(i);return t&&t.cameraComponent?n=t.cameraComponent.visibility&t.node.layer?t.node.layer:t.cameraComponent.visibility&~(t.cameraComponent.visibility-1):(e.parent&&(n=m(e.parent)),n)}a.prototype.setParent=function(e,n){if(s.call(this,e,n),e){var t=m(this);t&&(this.layer=t,l(this,t))}},e._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,n,r,o,s,c,a,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,a=e.director,l=e.Component}],execute:function(){var p,u,f,h,y;o._RF.push({},"aa3b7iZ7WxDvraMKdd/min8","PhysicsConfig",void 0);var v=s.ccclass,d=s.property;e("PhysicsConfig",(p=v("PhysicsConfig"),u=d({type:c}),p((y=i((h=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,n(i,"envSprite",y,r(i)),i}return t(i,e),i.prototype.start=function(){CC_PHYSICS_CANNON?(this.envSprite.active=!1,a.loadScene("simple-shooting/scenes/Main",null,null)):this.envSprite.active=!0},i}(l)).prototype,"envSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefines.ts"],(function(e){"use strict";var t,n,o,i,a,s,r,p,l,c,h,u,m,y,T,f,N,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Vec3,p=e.CCFloat,l=e.SkeletalAnimationComponent,c=e.AudioClip,h=e.AudioSourceComponent,u=e.AnimationComponent,m=e.systemEvent,y=e.SystemEvent,T=e.tween,f=e.Component},function(e){N=e.GameState,_=e.GameDefines}],execute:function(){var d,C,v,I,S,G,g,E,b,A,U;a._RF.push({},"fb971QsleBHKbNynDY3dK1p","PlayerController",void 0);var R,w,P=s.ccclass,H=s.property,L=new r;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.UP=2]="UP"}(R||(R={})),function(e){e[e.RUNNING=0]="RUNNING",e[e.MOVING_LEFT=1]="MOVING_LEFT",e[e.MOVING_RIGHT=2]="MOVING_RIGHT",e[e.JUMPING=3]="JUMPING"}(w||(w={}));var V="cocos_anim_idle",O="cocos_anim_run",D="cocos_anim_jump";e("PlayerController",(d=P("PlayerController"),C=H({type:p}),v=H({type:l}),I=H({type:c}),S=H({type:c}),d((E=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"speed",E,i(t)),o(t,"playerAnimComp",b,i(t)),o(t,"coinAC",A,i(t)),o(t,"jumpAC",U,i(t)),t.onTriggerCoin=void 0,t.onTriggerBlock=void 0,t._pressedX=0,t._pressedY=0,t._moveState=w.RUNNING,t._gameState=N.INIT,t._audioSourceComp=null,t}n(t,e);var a=t.prototype;return a.start=function(){this._audioSourceComp=this.getComponent(h)},a.onGameStateChanged=function(e){switch(e){case N.INIT:this.onGameInit();break;case N.PLAYING:this.onGamePlaying();break;case N.END:this.onGameEnd()}this._gameState=e},a.onGameInit=function(){this.playerAnimComp.play(V),this.node.setPosition(L.set(0,0,0))},a.onGamePlaying=function(){this._moveState=w.RUNNING,this.playerAnimComp.play(O),this.playerAnimComp.getState(D).on(u.EventType.FINISHED,this.onJumpEnd,this),m.on(y.EventType.TOUCH_START,this.onViewTouchStart,this),m.on(y.EventType.TOUCH_END,this.onViewTouchEnd,this)},a.onGameEnd=function(){this.playerAnimComp.getState(D).off(u.EventType.FINISHED,this.onJumpEnd,this),m.off(y.EventType.TOUCH_START,this.onViewTouchStart,this),m.off(y.EventType.TOUCH_END,this.onViewTouchEnd,this)},a.onTriggerEnter=function(e){var t=e.otherCollider.node;if("Coin"===t.name)this._audioSourceComp.playOneShot(this.coinAC),this.onTriggerCoin&&this.onTriggerCoin(t);else if("RoadBlock"===t.name){var n=t.getComponent(u),o="block_down";n.getState(o).isPlaying||n.play(o),this.onTriggerBlock&&this.onTriggerBlock(t)}},a.onViewTouchStart=function(e){var t=e.getLocation();this._pressedX=t.x,this._pressedY=t.y},a.onViewTouchEnd=function(e){var t=e.getLocation(),n=this._pressedX-t.x,o=this._pressedY-t.y;Math.abs(n)>Math.abs(o)?n>0?this.move(R.LEFT):this.move(R.RIGHT):o>0||this.move(R.UP)},a.move=function(e){var t=this;switch(e){case R.LEFT:this._moveState===w.RUNNING&&(T(this.node).by(.5,{position:new r(_.leftLineX,0,0)},{onComplete:function(){t._moveState=w.RUNNING}}).start(),this._moveState=w.MOVING_LEFT);break;case R.RIGHT:this._moveState===w.RUNNING&&(T(this.node).by(.5,{position:new r(_.rightLineX,0,0)},{onComplete:function(){t._moveState=w.RUNNING}}).start(),this._moveState=w.MOVING_RIGHT);break;case R.UP:if(this._moveState===w.RUNNING)this._audioSourceComp.playOneShot(this.jumpAC),this.playerAnimComp.crossFade(D),this.playerAnimComp.getState(D).speed=1.5,T(this.node).by(.75,{position:new r(0,0,10)},{onComplete:function(){}}).start(),this._moveState=w.JUMPING}},a.onJumpEnd=function(e,t){(null==t?void 0:t.name)===D&&(this.playerAnimComp.play(O),this._moveState=w.RUNNING)},a.update=function(e){this._gameState===N.PLAYING&&(this._moveState===w.JUMPING||this.node.translate(L.set(0,0,this.speed*e)))},a.onDestroy=function(){m.off(y.EventType.TOUCH_START,this.onViewTouchStart,this),m.off(y.EventType.TOUCH_END,this.onViewTouchEnd,this)},t}(f)).prototype,"speed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=t(g.prototype,"playerAnimComp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(g.prototype,"coinAC",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(g.prototype,"jumpAC",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=g))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShootingGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,n,i,a,c,s,u,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Prefab,s=e.CCInteger,u=e.instantiate,l=e.Vec3,p=e.Component}],execute:function(){var f,b,g,h,m,y,v;i._RF.push({},"20662GS0QxHXY+nGdXPjcWB","ShootingGameManager",void 0);var x=a.ccclass,d=a.property;e("ShootingGameManager",(f=x("ShootingGameManager"),b=d({type:c}),g=d({type:s}),f((y=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"boxPrfb",y,n(t)),o(t,"bottomBoxNum",v,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.generateBoxes()},i.generateBoxes=function(){for(var e=this.bottomBoxNum,t=0;t<e;t++)for(var r=0;r<e-t;r++){var o=u(this.boxPrfb),n=1*t/2+r,i=t+.1;o.parent=this.node,o.setWorldPosition(new l(n,i,-10))}},t}(p)).prototype,"boxPrfb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"bottomBoxNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShootingPlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./GameDefines2.ts","./Grenade.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,h,l,c,u,d,p,m,g,f,v,y,_,w,S,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Vec3,h=t.Quat,l=t.CCFloat,c=t.Prefab,u=t.Node,d=t.systemEvent,p=t.SystemEvent,m=t.AnimationComponent,g=t.macro,f=t.game,v=t.director,y=t.instantiate,_=t.Component},function(t){w=t.Bullet},function(t){S=t.ActionType},function(t){b=t.Grenade}],execute:function(){var T,A,E,P,k,M,D,R,N,U,C,I,K,z,Y,x,B,L,F;a._RF.push({},"7f57e5bdZhH4Zj3eULtx95X","ShootingPlayerController",void 0);var O,V,W=r.ccclass,H=r.property;!function(t){t[t.None=0]="None",t[t.Idle=1]="Idle",t[t.Running=2]="Running",t[t.Jumping=3]="Jumping",t[t.Shooting=4]="Shooting"}(O||(O={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Forward=2]="Forward",t[t.Backward=3]="Backward"}(V||(V={}));var G=new s,X=new s,J=new h;t("ShootingPlayerController",(T=W("ShootingPlayerController"),A=H({type:l}),E=H({type:c}),P=H({type:c}),k=H({type:u}),M=H({type:u}),D=H({type:u}),R=H({type:l}),N=H({type:l}),T((I=e((C=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"moveSpeed",I,n(e)),o(e,"BulletPrefab",K,n(e)),o(e,"grenatePrfb",z,n(e)),o(e,"firePoint",Y,n(e)),o(e,"throwPoint",x,n(e)),o(e,"verticalViewNode",B,n(e)),o(e,"viewUpAngle",L,n(e)),o(e,"viewDownAngle",F,n(e)),e._animComp=null,e._animState=O.None,e._animStateToNameMap={},e._moveDirMap={},e._velocity=new s,e._rotHorizontalSpeed=.005,e._rotVerticalSpeed=.002,e._bulletSpeed=50,e._grenadeForce=50,e}i(e,t);var a=e.prototype;return a.onLoad=function(){d.on(p.EventType.KEY_UP,this.onKeyUp,this),d.on(p.EventType.KEY_DOWN,this.onKeyDown,this),d.on(p.EventType.MOUSE_UP,this.onMouseUp,this),d.on(p.EventType.MOUSE_DOWN,this.onMouseDown,this),d.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this._animStateToNameMap[O.Idle]="Idle",this._animStateToNameMap[O.Running]="Run",this._animStateToNameMap[O.Jumping]="Jump",this._animStateToNameMap[O.Shooting]="ShootTorsoArmsRifle",this._moveDirMap[V.Left]=new s(1,0,0),this._moveDirMap[V.Right]=new s(-1,0,0),this._moveDirMap[V.Forward]=new s(0,0,1),this._moveDirMap[V.Backward]=new s(0,0,-1)},a.start=function(){this._animComp=this.node.getComponent(m),this._animComp.on(m.EventType.FINISHED,this.onAnimationEnd,this),this.changeToAnimState(O.Idle)},a.doAction=function(t,e){switch(t){case S.Forward:e?(this._velocity.z=1,this.changeToAnimState(O.Running)):(this._velocity.z>0&&(this._velocity.z=0),this.checkToIdle());break;case S.Backward:e?(this._velocity.z=-1,this.changeToAnimState(O.Running)):(this._velocity.z<0&&(this._velocity.z=0),this.checkToIdle());break;case S.Left:e?(this._velocity.x=1,this.changeToAnimState(O.Running)):(this._velocity.x>0&&(this._velocity.x=0),this.checkToIdle());break;case S.Right:e?(this._velocity.x=-1,this.changeToAnimState(O.Running)):(this._velocity.x<0&&(this._velocity.x=0),this.checkToIdle());break;case S.Shoot:e&&(this.changeToAnimState(O.Shooting),this.shoot());break;case S.ThrowGrenade:e&&this.throwGrenade()}},a.onKeyDown=function(t){switch(t.keyCode){case g.KEY.a:this.doAction(S.Left,!0);break;case g.KEY.d:this.doAction(S.Right,!0);break;case g.KEY.w:this.doAction(S.Forward,!0);break;case g.KEY.s:this.doAction(S.Backward,!0);break;case g.KEY.g:this.doAction(S.ThrowGrenade,!0);break;case g.KEY.space:}},a.checkToIdle=function(){0===this._velocity.x&&0===this._velocity.y&&0===this._velocity.z&&this.changeToAnimState(O.Idle)},a.onKeyUp=function(t){switch(t.keyCode){case g.KEY.a:this.doAction(S.Left,!1);break;case g.KEY.d:this.doAction(S.Right,!1);break;case g.KEY.w:this.doAction(S.Forward,!1);break;case g.KEY.s:this.doAction(S.Backward,!1);break;case g.KEY.space:}},a.onMouseDown=function(t){2===t.getButton()&&(null==f.canvas.requestPointerLock||f.canvas.requestPointerLock())},a.onMouseUp=function(t){0===t.getButton()?(this.changeToAnimState(O.Shooting),this.shoot()):2===t.getButton()&&(null==document.exitPointerLock||document.exitPointerLock())},a.onMouseMove=function(t){if(0!=t.movementX){var e=this.node.getRotation();h.rotateAround(e,e,s.UNIT_Y,-t.movementX*this._rotHorizontalSpeed),this.node.setRotation(e)}if(0!=t.movementY){var i=this.verticalViewNode.getRotation();h.rotateAround(i,i,s.UNIT_X,t.movementY*this._rotVerticalSpeed),i.getEulerAngles(G),G.x>this.viewDownAngle&&G.x<this.viewUpAngle&&this.verticalViewNode.setRotation(i)}},a.onTouchMove=function(t){if(0!=t.getDelta().x){var e=this.node.getRotation();h.rotateAround(e,e,s.UNIT_Y,-t.getDelta().x*this._rotHorizontalSpeed),this.node.setRotation(e)}if(0!=t.getDelta().y){var i=this.verticalViewNode.getRotation();h.rotateAround(i,i,s.UNIT_X,t.getDelta().y*this._rotVerticalSpeed),i.getEulerAngles(G),G.x>this.viewDownAngle&&G.x<this.viewUpAngle&&this.verticalViewNode.setRotation(i)}},a.changeToAnimState=function(t){this._animState===O.Idle?this._animState!==t&&(this._animComp.play(this._animStateToNameMap[t]),this._animState=t):t===O.Idle&&(this._animComp.play(this._animStateToNameMap[t]),this._animState=t)},a.onAnimationEnd=function(t,e){e.name===this._animStateToNameMap[O.Shooting]&&this.changeToAnimState(O.Idle)},a.shoot=function(){var t=v.getScene(),e=y(this.BulletPrefab);t.addChild(e),e.setPosition(this.firePoint.getWorldPosition());var i=e.getComponent(w),o=new s(0,0,1);s.transformQuat(o,o,this.firePoint.getWorldRotation()),s.multiplyScalar(o,o,this._bulletSpeed),i.init(o)},a.throwGrenade=function(){var t=v.getScene(),e=y(this.grenatePrfb);t.addChild(e),e.setPosition(this.throwPoint.getWorldPosition());var i=e.getComponent(b),o=new s(0,0,1);s.transformQuat(o,o,this.throwPoint.getWorldRotation()),s.multiplyScalar(o,o,this._grenadeForce),i.init(o)},a.move=function(t){var e=G,i=this._velocity;this.node.getWorldPosition(e),this.node.getWorldRotation(J),s.transformQuat(X,i,J),s.scaleAndAdd(e,e,X,t*this.moveSpeed),this.node.setWorldPosition(e)},a.update=function(t){this._animState===O.Running&&this.move(t)},a.onDestroy=function(){d.off(p.EventType.KEY_UP,this.onKeyUp,this),d.off(p.EventType.KEY_DOWN,this.onKeyDown,this),d.off(p.EventType.MOUSE_UP,this.onMouseUp,this),d.off(p.EventType.MOUSE_DOWN,this.onMouseDown,this),d.off(p.EventType.TOUCH_MOVE,this.onTouchMove,this)},e}(_)).prototype,"moveSpeed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=e(C.prototype,"BulletPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"grenatePrfb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(C.prototype,"firePoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"throwPoint",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"verticalViewNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"viewUpAngle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),F=e(C.prototype,"viewDownAngle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-60}}),U=C))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/TopBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,r,n,c,i;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator,n=o.game,c=o.director,i=o.Component}],execute:function(){var s;e._RF.push({},"4e1ce9drXhLHLal2n6ZT6pS","TopBar",void 0);var a=r.ccclass;r.property,o("TopBar",a("TopBar")(s=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var r=e.prototype;return r.start=function(){n.addPersistRootNode(this.node)},r.onHomeButtonClicked=function(){c.loadScene("lobby")},e}(i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"4aba5X+ky1KWqr6BZdQ3uCi","Utils",void 0);t("Utils",function(){function t(){}return t.walkNode=function(t,n){var c=this;n(t),t.children.forEach((function(t){c.walkNode(t,n)}))},t}());n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});